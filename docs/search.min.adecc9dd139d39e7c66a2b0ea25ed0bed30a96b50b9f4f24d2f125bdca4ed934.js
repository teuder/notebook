(function(){const a=document.querySelector("#book-search-input"),b=document.querySelector("#book-search-results");a.addEventListener("focus",c),a.addEventListener("keyup",d);function c(){a.removeEventListener("focus",c),a.required=!0,e("/notebook/lunr.min.js"),e("/notebook/search-data.min.8905beb94b878393d81f866fea7c191b76b929057f05dc4df907325c5af0f9c1.js",function(){a.required=!1,d()})}function d(){while(b.firstChild)b.removeChild(b.firstChild);if(!a.value)return;const c=lunr.tokenizer(a.value),d=window.bookSearch.idx.query(function(a){a.term(c,{boost:100}),a.term(c,{boost:10,wildcard:lunr.Query.wildcard.LEADING|lunr.Query.wildcard.TRAILING}),a.term(c,{editDistance:2})});d.slice(0,10).forEach(function(e){const a=window.bookSearch.pages[e.ref],c=document.createElement("li"),d=c.appendChild(document.createElement("a"));d.href=a.href,d.textContent=a.title,b.appendChild(c)})}function e(b,c){const a=document.createElement("script");a.defer=!0,a.async=!1,a.src=b,a.onload=c,document.head.append(a)}})()