<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"><meta property="og:title" content="git" />
<meta property="og:description" content="Git Gitの基本コマンド .gitignoreの仕様詳解 Happy Git and GitHub for the useR サブコマンド サブコマンド 実行内容 clone リポジトリのクローンを作成する init リポジト" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://teuder.github.io/notebook/miscellaneous/git/" />
<meta property="article:published_time" content="2019-08-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-21T20:01:52+09:00" />
<title>git | notebook</title>
<link rel="icon" href="/notebook/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/notebook/book.min.07c38dce7b6800da2a75a565d4d975e38f837294e24d00b5aae363037012d64b.css" integrity="sha256-B8ONzntoANoqdaVl1Nl144&#43;DcpTiTQC1quNjA3AS1ks=">


<script defer src="/notebook/search.min.0580a7c3f806b29d59ea90c6545634b95bcb26c793a998c68b64997807865d2d.js" integrity="sha256-BYCnw/gGsp1Z6pDGVFY0uVvLJseTqZjGi2SZeAeGXS0="></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://teuder.github.io/notebook/"><span>notebook</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" placeholder="Search" id="book-search-input" maxlength="64" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    

  






  <ul>
  
    

  <li >
    
      

  <a href="/notebook/docs/" >
      About
  </a>


    

    




  
  <ul>
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/python/" >
      Python
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/python/environment/" >
      environment
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/python/jupyter/" >
      jupyter
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/python/vscode/" >
      Python in VScode
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/python/anaconda/" >
      anaconda
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/r/" >
      R
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/r/leaflet/" >
      leaflet
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/rhdf5/" >
      rhdf5
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/ggplot2/" >
      ggplot2
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/raster/" >
      raster
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/sf/" >
      sf
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/bigrquery/" >
      bigrquery
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/dplyr/" >
      dplyr
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/future/" >
      future
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/gganimate/" >
      gganimate
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/lubridate/" >
      lubridate
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/purrr/" >
      purrr
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/package_development/" >
      R Package Development
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/reticulate/" >
      reticulate
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/rmarkdown/" >
      Rmarkdown
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/rpart/" >
      rpart
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/rstudio/" >
      RStudio
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/stars/" >
      stars
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/tidymodels/" >
      tidymodels
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/wk/" >
      wk
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/dbi/" >
      DBI
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/datascience/" >
      Data Science
  </a>


    

    




  
  <ul>
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/gis/" >
      GIS &amp; Remote Sensing
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/gis/bigquerygis/" >
      BigQuery GIS
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gis/sar/" >
      SAR
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gis/terminology/" >
      用語
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gis/viirs/" >
      VIIRS
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gis/r_package/" >
      GIS関連Rパッケージ
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/mac/" >
      Mac
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/mac/homebrew/" >
      homebrew
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/maritime/" >
      Maritime
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/maritime/glossary/" >
      glossary
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/gcp/" >
      Google Cloud Platform
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/gcp/bigquery_gis/" >
      BigQuery GIS
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gcp/bigquery_bq/" >
      BigQuery: bqコマンド
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gcp/bigquery/" >
      BigQuery: general
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gcp/bigquery_sql/" >
      BigQuery: SQL
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/miscellaneous/" >
      miscellaneous
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/miscellaneous/english/" >
      english
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/jinjia2/" >
      jinja
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/jupyter/" >
      jupyter
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/pc/" >
      PC
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/vscode/" >
      vscode
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/windows/" >
      Windows
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/hugo/" >
      Hugo
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/git/"  class="active">
      git
  </a>

</li>
      
    
  </ul>
  



  </li>


  
  </ul>











</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/notebook/svg/menu.svg" alt="Menu" />
  </label>
  <strong>git</strong>
</header>

      
<article class="markdown"><h1 id="git">Git</h1>
<p><a href="https://qiita.com/konweb/items/621722f67fdd8f86a017">Gitの基本コマンド</a></p>
<p><a href="https://qiita.com/anqooqie/items/110957797b3d5280c44f">.gitignoreの仕様詳解</a></p>
<p><a href="https://happygitwithr.com/">Happy Git and GitHub for the useR</a></p>
<h2 id="サブコマンド">サブコマンド</h2>
<table>
<thead>
<tr>
<th>サブコマンド</th>
<th>実行内容</th>
</tr>
</thead>
<tbody>
<tr>
<td>clone</td>
<td>リポジトリのクローンを作成する</td>
</tr>
<tr>
<td>init</td>
<td>リポジトリを新規作成する、または既存のリポジトリを初期化する</td>
</tr>
<tr>
<td>remote</td>
<td>リモートリポジトリを関連付けする</td>
</tr>
<tr>
<td>fetch</td>
<td>リモートリポジトリの内容を取得する</td>
</tr>
<tr>
<td>pull</td>
<td>リモートリポジトリの内容を取得し、現在のブランチに取り込む（「fetch」と「merge」を行う）</td>
</tr>
<tr>
<td>push</td>
<td>ローカルリポジトリの変更内容をリモートリポジトリに送信する</td>
</tr>
<tr>
<td>add</td>
<td>ファイルをインデックスに追加する（コミットの対象にする）</td>
</tr>
<tr>
<td>rm</td>
<td>ファイルをインデックスから削除する</td>
</tr>
<tr>
<td>mv</td>
<td>ファイルやディレクトリの名前を変更する</td>
</tr>
<tr>
<td>reset</td>
<td>ファイルをインデックスから削除し、特定のコミットの状態まで戻す</td>
</tr>
<tr>
<td>status</td>
<td>ワークツリーにあるファイルの状態を表示する</td>
</tr>
<tr>
<td>show</td>
<td>ファイルの内容やコミットの差分などを表示する</td>
</tr>
<tr>
<td>diff</td>
<td>コミット同士やコミットとワークツリーの内容を比較する</td>
</tr>
<tr>
<td>commit</td>
<td>インデックスに追加した変更をリポジトリに記録する</td>
</tr>
<tr>
<td>tag</td>
<td>コミットにタグを付ける、削除する、一覧表示する</td>
</tr>
<tr>
<td>log</td>
<td>コミット時のログを表示する</td>
</tr>
<tr>
<td>grep</td>
<td>リポジトリで管理されているファイルをパターン検索する</td>
</tr>
<tr>
<td>branch</td>
<td>ブランチを作成、削除、一覧表示する</td>
</tr>
<tr>
<td>checkout</td>
<td>ワークツリーを異なるブランチに切り替える</td>
</tr>
<tr>
<td>merge</td>
<td>他のブランチやコミットの内容を現在のブランチに取り込む</td>
</tr>
<tr>
<td>rebase</td>
<td>コミットを再適用する（ブランチの分岐点を変更したり、コミットの順番を入れ替えたりできる）</td>
</tr>
<tr>
<td>config</td>
<td>現在の設定を取得、変更する</td>
</tr>
</tbody>
</table>
<h1 id="レポジトリを作成するコピーする">レポジトリを作成する、コピーする</h1>
<h2 id="init--既存のフォルダをレポジトリにする">init : 既存のフォルダをレポジトリにする</h2>
<p>git init して登録されたフォルダが、大元のレポジトリになる？</p>
<p>他の人は、このレポジトリをクローンすることで、開発に参加できる</p>
<h2 id="clone--既存のレポジトリをコピーする">clone : 既存のレポジトリをコピーする</h2>
<p>既にあるレポジトリの内容をコピーして、ローカルにレポジトリのクローンを作成する</p>
<p>このクローンに、変更を加えることで、元レポジトリの開発に参加できる</p>
<h1 id="既にあるレポジトリへの操作">既にあるレポジトリへの操作</h1>
<h2 id="add">add</h2>
<p>作成したファイルを git の管理下に追加する（ステージングする）。一度追加したら同じファイルを再度追加する必要はない。</p>
<p>git は add されたファイルの変更を検出し、</p>
<pre><code>git add path_to_file
git add . # カレント以下の全てのファイル
git add *.java # 拡張子が .java
</code></pre><h2 id="commit">commit</h2>
<p>ステージングしたファイルの変更内容を記録する（コミットする）</p>
<pre><code>git commit -m 'コメント'
</code></pre><h2 id="push-リモートレポジトリに反映する">push リモートレポジトリに反映する</h2>
<p>現状のローカルレポジトリの最新 コミット 状態を、リモートレポジトリに反映する（プッシュする）</p>
<pre><code>git push レポジトリ ブランチ
</code></pre><p>例：<code>git push origin master</code></p>
<p>ここで <code>origin</code> レポジトリは、このレポジトリの大本である、リモートにあるレポジトリを意味する（<code>clone</code> するもとになったやつ）</p>
<h1 id="ファイルの削除名前変更など">ファイルの削除・名前変更など</h1>
<p>基本的に、名前の変更や削除など、ファイル・ディレクトリに対する操作は全て git を通して行う。そうしないと git がそれらの変更をトラッキングできない。</p>
<p>ファイル名を変えて内容を変更するとき、git を使わないでファイル名を変更すると、元のファイルとは別のファイルとして扱われるので、どこを変更したのかわからなくなる。</p>
<pre><code>git rm
git mv
</code></pre><h1 id="ブランチ">ブランチ</h1>
<p>ブランチとは１つのレポジトリで複数の状態（例えば正式版、開発版）などを保持しておく仕組み。ブランチを切り替えるとフォルダの中身も変化する。開発版のブランチに切り替えてファイルを編集すると正式版を壊すことなく、開発版を変更して、開発版が完成したら、それを正式版のブランチにマージするといったことができる。</p>
<p>レポジトリを作成したときにできる最初のブランチが <code>master</code></p>
<p>ローカルレポジトリとリモートレポジトリの</p>
<h2 id="既存のブランチを確認する">既存のブランチを確認する</h2>
<pre><code>git branch
</code></pre><h2 id="ブランチの作成--branch">ブランチの作成 : branch</h2>
<pre><code>git branch ブランチ名 # ブランチの作成
git checkout -b ブランチ名 #ブランチの作成とそのブランチへの切り替え
</code></pre><p><code>git branch ブランチ名</code> だとブランチを作成するだけだが、<code>git checkout -b ブランチ名</code> にするとブランチを作成して、そのブランチに切り替える（<code>git branch ブランチ名; git checkout ブランチ名;</code> と同じ）</p>
<h2 id="ブランチの切り替え--checkout">ブランチの切り替え : checkout</h2>
<p>ブランチを切り替えると、フォルダの中身の状態が、そのブランチの最新の状態になる</p>
<pre><code>git checkout ブランチ名
</code></pre><h2 id="カレントブランチの確認">カレントブランチの確認</h2>
<p>カレントブランチには <code>*</code> が付く</p>
<pre><code>$ git branch --contains
* develop
  master
</code></pre><h2 id="ブランチの削除">ブランチの削除</h2>
<p>ローカルにあるブランチを削除する</p>
<p>git branch &ndash;delete [ブランチ名]
git branch -d [ブランチ名]
git branch -D [ブランチ名]</p>
<h2 id="リモートにあるブランチをローカルに持ってくる">リモートにあるブランチをローカルに持ってくる</h2>
<pre><code># 最初にリモートブランチにチェックアウトして
git checkout origin/[ブランチ名]

# 次にしそれをローカルブランチとしてコピーする
git checkout -b [ブランチ名]
</code></pre><p>最初のコマンドを打った後に次のようなメッセージが出る。
最初のコマンドを売った状態だと、リモートレポジトリの内容を見て、試しに変更したりできるけど、変更を commit してもリモートにもローカルにも反映されないらしい。変更をローカルレポジトリとしてコピーするために2番目のコマンドを使う。その後は、commit した変更を保存することができる。</p>
<pre><code>Note: checking out 'origin/[ブランチ名]'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b &lt;new-branch-name&gt;

HEAD is now at a3fe87c updated where the tables are saved, and fixed source and source_ssvid fields. Also made small edit to extract_top_match.sql.j2
</code></pre><h2 id="ローカルブランチをコピーして別のローカルブランチを作る">ローカルブランチをコピーして別のローカルブランチを作る</h2>
<pre><code># コピーしたいローカルブランチ(hoge)にチェックアウトする
git checkout hoge

# そこで新しいレポジトリ(hoge_copied)を作る
git checkout -b hoge_copied

</code></pre><h1 id="ブランチ同士をマージする">ブランチ同士をマージする</h1>
<p>branchA に branchB の内容を統合する</p>
<pre><code># まずは branchA にチェックアウトして
git checkout branchA

# そこに branchB をマージする
git merge branchB
</code></pre><h1 id="レポジトリの状態を表示する--status">レポジトリの状態を表示する : status</h1>
<pre><code>git status
</code></pre><p>新たに作成されたけど <code>add</code> されていないファイルや、編集されたけど <code>commit</code> されていないファイルなどを表示する。</p>
<h1 id="ファイルフォルダを復元する">ファイル/フォルダを復元する</h1>
<p>以前にコミットした状態に復元する</p>
<pre><code>git checkout [コミット番号] [ファイルパス]
</code></pre><h1 id="ファイルへの操作">ファイルへの操作</h1>
<h2 id="ファイル名を変更する移動する--git-mv">ファイル名を変更する・移動する : git mv</h2>
<pre><code>git mv 

</code></pre><h2 id="ファイルを削除する">ファイルを削除する</h2>
<h2 id="ローカルで削除したファイルフォルダをリモートレポジトリからも削除する">ローカルで削除したファイル・フォルダを、リモートレポジトリからも削除する</h2>
<p>ローカルフォルダには、ファイルやフォルダがあっても、リモートレポジトリにはアップロードされないようにしたい。
既に、リモートレポジトリにアップロードされてしまったファイル・フォルダを、リモートレポジトリから削除したい</p>
<ul>
<li>後から、<code>.gitignore</code> に追加削除した場合</li>
<li><code>.gitignore</code> の内容と関係なく、後から、特定のファイル・フォルダを除外したい場合</li>
</ul>
<p><code>.gitignore</code> に新たにファイルやフォルダを追加した場合も同じ</p>
<p>あるいは、以前は追跡していたファイル・フォルダの追跡をやめて、リモートレポジトリから削除したい場合</p>
<pre><code># .gitignore に追加した後、あるいは、ファイルやフォルダを削除した後

# キャッシュを削除する
git rm --cached    /path/to/消したいファイル.txt
git rm --cached -r /path/to/消したいフォルダ

# .gitignore を編集したなら
git add .gitignore

# 
git status

# コミット
git commit -m &quot;remove some files&quot;

# リモートに反映
git push origin master
</code></pre><h1 id="githubへのプルリク">Githubへのプルリク</h1>
<p>プルリク（pull request）は git ではなく Github や Gitlab の機能</p>
<p>ブランチをマージする前にチェックして、Github 上でマージできる</p>
<p><a href="https://qiita.com/samurairunner/items/7442521bce2d6ac9330b">初心者向けGithubへのPullRequest方法</a></p>
<ol>
<li>
<p>リモートリポジトリをローカルに <code>clone</code> する。</p>
<ul>
<li><code>git clone https://github.com/hoge/hoge.git</code></li>
</ul>
</li>
<li>
<p>ローカルで、編集用に新しいブランチ <code>new_branch</code> を作成し、そこに切り替える</p>
<ul>
<li><code>cd hoge</code></li>
<li><code>git branch new_branch</code></li>
<li><code>git checkout new_branch</code></li>
</ul>
</li>
<li>
<p>編集し、add commit する</p>
<ul>
<li>ファイルを編集する</li>
<li><code>git add 変更したファイル</code></li>
<li><code>git commit -m 'コメント'</code></li>
</ul>
</li>
<li>
<p>リモートの push する</p>
</li>
<li>
<p>pull requestする</p>
</li>
</ol>
<p>git clone <a href="https://github.com/teuder/test.git">https://github.com/teuder/test.git</a></p>
<p>【cloneされたリモートリポジトリ】 = 【<code>origin</code> リポジトリ】</p>
</article>

      
<div class="book-footer justify-between">
  
  <div>
    
    <a class="flex align-center" href="https://github.com/teuder/notebook/commit/25a1530214867873b4872c7ec8cb6d8607b076cc" title='Last modified 2021-01-21 by Masaki Tsuda' target="_blank" rel="noopener">
      <img src="/notebook/svg/calendar.svg" alt="Changed" />
      <span>2021-01-21</span>
    </a>
  </div>
  
  
  <div>
    
    <a class="flex align-center" href="https://github.com/teuder/notebook/edit/master/content/miscellaneous/git.md" target="_blank" rel="noopener">
      <img src="/notebook/svg/edit.svg" alt="Edit" />
      <span>Edit this page</span>
    </a>
    
  </div>
  
</div>


      
    </div>

    
  

  <aside class="book-toc level-3 fixed">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#サブコマンド">サブコマンド</a></li>
  </ul>

  <ul>
    <li><a href="#init--既存のフォルダをレポジトリにする">init : 既存のフォルダをレポジトリにする</a></li>
    <li><a href="#clone--既存のレポジトリをコピーする">clone : 既存のレポジトリをコピーする</a></li>
  </ul>

  <ul>
    <li><a href="#add">add</a></li>
    <li><a href="#commit">commit</a></li>
    <li><a href="#push-リモートレポジトリに反映する">push リモートレポジトリに反映する</a></li>
  </ul>

  <ul>
    <li><a href="#既存のブランチを確認する">既存のブランチを確認する</a></li>
    <li><a href="#ブランチの作成--branch">ブランチの作成 : branch</a></li>
    <li><a href="#ブランチの切り替え--checkout">ブランチの切り替え : checkout</a></li>
    <li><a href="#カレントブランチの確認">カレントブランチの確認</a></li>
    <li><a href="#ブランチの削除">ブランチの削除</a></li>
    <li><a href="#リモートにあるブランチをローカルに持ってくる">リモートにあるブランチをローカルに持ってくる</a></li>
    <li><a href="#ローカルブランチをコピーして別のローカルブランチを作る">ローカルブランチをコピーして別のローカルブランチを作る</a></li>
  </ul>

  <ul>
    <li><a href="#ファイル名を変更する移動する--git-mv">ファイル名を変更する・移動する : git mv</a></li>
    <li><a href="#ファイルを削除する">ファイルを削除する</a></li>
    <li><a href="#ローカルで削除したファイルフォルダをリモートレポジトリからも削除する">ローカルで削除したファイル・フォルダを、リモートレポジトリからも削除する</a></li>
  </ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
