<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"><meta property="og:title" content="VIIRS" />
<meta property="og:description" content="VIIRS Visible Infrared Imaging Radiometer Suite 赤外線〜可視光を含む波長の光を受信する22個のセンサーからなる装置。様々な波長で観測することにより地表や海洋の色や夜間の光を観測" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://teuder.github.io/notebook/gis/viirs/" />
<meta property="article:published_time" content="2019-09-14T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-05-13T15:31:05+09:00" />
<title>VIIRS | notebook</title>
<link rel="icon" href="/notebook/favicon.png" type="image/x-icon">


<link rel="stylesheet" href="/notebook/book.min.1b994bd28c6ce2255f069b6bf6837b4d396307637fc48d61dcb2a6caac26e031.css" integrity="sha256-G5lL0oxs4iVfBptr9oN7TTljB2N/xI1h3LKmyqwm4DE=">


<script defer src="/notebook/search.min.65b233c1d8cc9f449621b4e785a42902d15dcf0c5c879d0d4f57f369e2632cc0.js" integrity="sha256-ZbIzwdjMn0SWIbTnhaQpAtFdzwxch50NT1fzaeJjLMA="></script>

<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" class="hidden" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://teuder.github.io/notebook/"><span>notebook</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" placeholder="Search" id="book-search-input" maxlength="64" />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    

  






  <ul>
  
    

  <li >
    
      

  <a href="/notebook/docs/" >
      About
  </a>


    

    




  
  <ul>
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/python/" >
      Python
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/python/environment/" >
      environment
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/python/vscode/" >
      Python in VScode
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/python/anaconda/" >
      anaconda
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/r/" >
      R
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/r/rhdf5/" >
      rhdf5
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/ggplot2/" >
      ggplot2
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/raster/" >
      raster
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/sf/" >
      sf
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/bigrquery/" >
      bigrquery
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/gganimate/" >
      gganimate
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/lubridate/" >
      lubridate
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/reticulate/" >
      reticulate
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/rstudio/" >
      RStudio
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/stars/" >
      stars
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/r/dbi/" >
      DBI
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/datascience/" >
      Data Science
  </a>


    

    




  
  <ul>
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/gis/" >
      GIS &amp; Remote Sensing
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/gis/bigquerygis/" >
      BigQuery GIS
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gis/sar/" >
      SAR
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gis/terminology/" >
      用語
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gis/viirs/"  class="active">
      VIIRS
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/gis/r_package/" >
      GIS関連Rパッケージ
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/mac/" >
      Mac
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/mac/homebrew/" >
      homebrew
  </a>

</li>
      
    
  </ul>
  



  </li>


  
    

  <li >
    
      

  <a href="/notebook/miscellaneous/" >
      miscellaneous
  </a>


    

    




  
  <ul>
    
      
        <li>

  <a href="/notebook/miscellaneous/bigquery/" >
      BigQuery
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/jupyter/" >
      jupyter
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/vscode/" >
      vscode
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/hugo/" >
      Hugo
  </a>

</li>
      
    
      
        <li>

  <a href="/notebook/miscellaneous/git/" >
      git
  </a>

</li>
      
    
  </ul>
  



  </li>


  
  </ul>











</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="/notebook/svg/menu.svg" alt="Menu" />
  </label>
  <strong>VIIRS</strong>
</header>

      
<article class="markdown">

<h1 id="viirs">VIIRS</h1>

<p>Visible Infrared Imaging Radiometer Suite</p>

<p>赤外線〜可視光を含む波長の光を受信する22個のセンサーからなる装置。様々な波長で観測することにより地表や海洋の色や夜間の光を観測する。雲、エアロゾル、氷、海の色、植生、夜間光などの分析に利用できる。</p>

<p>Suomi-NPP（SNPP）, NOAA-20(JPSS-1)の２つの衛星に搭載されている。どちらの衛星もNASAとNOAAの共同プロジェクト Joint Polar Satellite System (JPSS) により打ち上げられ運用されている。（NOAA-20 と JPSS-1は同じ衛星、JPSS-1 から NOAA-20 に名前が変わった。SNPP は JPSS-1のための実験衛星という位置付けらしい。）</p>

<p>SNPPのデータは2012年から利用可能で、VIIRSを搭載した衛星は今後しばらく（2030以降まで）は運用を続けられる予定。</p>

<h1 id="衛星">衛星</h1>

<h2 id="suomi-npp">Suomi-NPP</h2>

<p><a href="https://www.restec.or.jp/satellite/suomi-npp">https://www.restec.or.jp/satellite/suomi-npp</a>
<a href="https://directory.eoportal.org/web/eoportal/satellite-missions/s/suomi-npp">https://directory.eoportal.org/web/eoportal/satellite-missions/s/suomi-npp</a></p>

<p>回帰日数（repeat cycle）は 16 日と書いてあるけど、CLASSのデータの範囲を見ると、2017-06-01 と 2017-06-12 はほぼ同じ地点を通過するので、周期は11日ではないのか？？</p>

<p>準回帰軌道である。
- 太陽同期軌道(Sun-synchronous orbit)でもあるので、太陽同期準回帰軌道と言える。</p>

<p>Sun-synchronous near-circular polar orbit</p>

<p><a href="http://www.ssec.wisc.edu/datacenter/npp/ASIA.html">S-NPP衛星軌道情報</a></p>

<h2 id="noaa-20">NOAA-20</h2>

<p><a href="https://www.restec.or.jp/satellite/jpss-series">https://www.restec.or.jp/satellite/jpss-series</a></p>

<h1 id="viirs-データ情報">VIIRS データ情報</h1>

<p>VIIRSポータルサイト</p>

<ul>
<li><a href="https://ncc.nesdis.noaa.gov/VIIRS/index.php">SNPP VIIRS</a></li>
<li><a href="https://viirsland.gsfc.nasa.gov/">NASA VIIRS LAND</a></li>
</ul>

<p>最初にこれを読む</p>

<p><a href="http://rammb.cira.colostate.edu/projects/npp/Beginner_Guide_to_VIIRS_Imagery_Data.pdf">Beginner Guide to VIIRS data</a></p>

<p>このドキュメントが、わかりやすくVIIRSのデータの詳細を理解するのに役だちそう</p>

<ul>
<li><a href="https://ncc.nesdis.noaa.gov/documents/documentation/viirs-users-guide-tech-report-142a-v1.3.pdf">VIIRS_SDR_Users_Guide v1.3</a></li>
</ul>

<h2 id="データプロダクト">データプロダクト</h2>

<p>SNPPのデータは大きく３つに分けられる、一般ユーザーはSDRとEDRを使う</p>

<ul>
<li>RDR (Raw Data Records) : センサーから取得された生データ（一般ユーザーには必要ない）</li>
<li>SDR (Sensor Data Records) : センサー値を適切に処理して得られた物理量や品質フラグなどのデータ（一般ユーザーにとっての生データ）</li>
<li>EDR (Environmental Data Records) : センサーから得られた値をさらに加工して得られたデータ（雲マスク、植生など）</li>
</ul>

<p>JPSSのサイトに、利用できるデータプロダクトの一覧がある
<a href="https://www.star.nesdis.noaa.gov/jpss/JPSS_products.php">https://www.star.nesdis.noaa.gov/jpss/JPSS_products.php</a></p>

<h2 id="データのドキュメント">データのドキュメント</h2>

<p><a href="https://www.jpss.noaa.gov/sciencedocs.html">JPSSの公式サイトにあるSNPPのドキュメント集</a></p>

<p><a href="https://www.datarefuge.org/sv/dataset/polar-orbiting-missions">JPSSのドキュメントがDataRefugeにある</a>。 DataRefugeは環境や気候関係のデータのアーカイブを進めている？トランプ大統領が気候変動に関するデータの公開を制限しようとした時に対策として生まれた運動？？</p>

<p>JPSSのデータフォーマットのドキュメントは Common Data Format Control Book - External (<code>CDFCB-X</code>) と呼ばれているらしい。VIIRSドキュメントのコードは <code>474</code> 、VIIRSのデータフォーマットのドキュメントコードは <code>474-00001</code></p>

<ul>
<li>CDFCB-X Volume I: Overview

<ul>
<li>474-00001-01_JPSS-CDFCB-X-Vol-I_0124D</li>
<li>474-00001-01_jpss-cdfcb-x-vol-i_0200c.pdf こっちのが新しいらしい</li>
</ul></li>
<li>CDFCB-X Volume II: Raw Data Record Formats</li>
<li>CDFCB-X Volume III: Sensor Data Record/Temperature Data Record Formats</li>
<li>CDFCB-X Volume IV: Environmental Data Record/Intermediate Product/Application Related Product Formats

<ul>
<li>CDFCB-X Volume IV Part 1: Overview, IPs, ARPs, and Common Geolocation Data</li>
<li>CDFCB-X Volume IV Part 2: Imagery, Atmospheric, and Cloud EDRs</li>
<li>CDFCB-X Volume IV Part 3: Land and Ocean/Water EDRs</li>
<li>CDFCB-X Volume IV Part 4: Earth Radiation Budget and Space EDRs</li>
</ul></li>
<li>CDFCB-X Volume V: Metadata</li>
<li>CDFCB-X Volume VI: Ancillary Data, Auxiliary Data, Messages, and Reports</li>
<li>CDFCB-X Volume VII: 廃止</li>
<li>CDFCB-X Volume VIII: Look Up Tables and Processing Coefficients</li>
</ul>

<p>HDF5に格納されているデータの定義は以下のドキュメントにまとまっている</p>

<p>Joint Polar Satellite System (JPSS) Algorithm Specification Volume II: Data Dictionary for VIIRS RDR/SDR</p>

<p>HDF5ファイルに格納されているデータの定義については以下のドキュメントに概要がある</p>

<ul>
<li><a href="https://ncc.nesdis.noaa.gov/documents/documentation/viirs-sdr-dataformat.pdf">VIIRS SDR Data format</a></li>
<li><a href="https://www.jpss.noaa.gov/sciencedocuments/sciencedocs/2016-12/474-00448-02-06_JPSS-DD-Vol-II-Part-6_0200F.pdf">Joint Polar Satellite System (JPSS) Algorithm Specification Volume II: Data Dictionary for VIIRS RDR/SDR.</a></li>
</ul>

<h3 id="sdr">SDR</h3>

<h4 id="i-band-svi01-svi05">I-band (SVI01 - SVI05)</h4>

<p>SVI01, SVI02, SVI03, SVI04, SVI05</p>

<p>位置情報</p>

<p>– GIMGO: projected onto smooth ellipsoid (WGS84 ellipsoid)
– GITCO: parallax-corrected for terrain</p>

<h4 id="m-band-svm01-svm16">M-band (SVM01 - SVM16)</h4>

<p>SVM01, SVM02, SVM03, SVM04, SVM05, SVM06, SVM07, SVM08, SVM09, SVM10, SVM11, SVM12, SVM13, SVM14, SVM15, SVM16</p>

<p>位置情報</p>

<p>– GMODO: projected onto smooth ellipsoid
– GMTCO: parallax-corrected for terrain</p>

<h4 id="day-night-band-svdnb">Day Night Band (SVDNB)</h4>

<p>全てのM-band (M1~M16)の波長のセンサーの信号を統合して（恐らく）、最も感度と強さのレンジを高めたプロダクト</p>

<p>ファイル記号 : <code>SVDNB</code></p>

<p>位置情報</p>

<p>– GDNBO: projected onto smooth ellipsoid (as of May 2013 there is a discussion of whether or not to produce a terrain-corrected geolocation)</p>

<h3 id="edr">EDR</h3>

<p><a href="http://rammb.cira.colostate.edu/projects/npp/VIIRS_Imagery_EDR_Users_Guide.pdf">EDR User Guide</a></p>

<h4 id="i-band-edr">I-band EDR</h4>

<p>I-band のSDR (SVI01, SVI02, SVI03, SVI04, SVI05) はそれぞれ対応するEDR (VI1BO, VI2BO, VI3BO, VI4BO, VI5BO) がある</p>

<p>VI1BO, VI2BO, VI3BO, VI4BO, VI5BO</p>

<h4 id="m-band-edr">M-band EDR</h4>

<p>M-band は６つのバンドについて対応するEDRがある</p>

<ul>
<li>SVM01 (SDR) &ndash;&gt; VM01O (EDR) reflectance</li>
<li>SVM04 (SDR) &ndash;&gt; VM02O (EDR) reflectance</li>
<li>SVM09 (SDR) &ndash;&gt; VM03O (EDR) reflectance</li>
<li>SVM14 (SDR) &ndash;&gt; VM04O (EDR) brightness temperature</li>
<li>SVM15 (SDR) &ndash;&gt; VM05O (EDR) brightness temperature</li>
<li>SVM16 (SDR) &ndash;&gt; VM06O (EDR) brightness temperature</li>
</ul>

<p>M-band EDR のための入力SDRは変更される可能性がある。EDRのメタデータ band_id を見ると、どのSDRが使われたのかわかる</p>

<p>I-band M-band EDRs は SDR を the Ground-Track Mercator projection に再投影し直したもの</p>

<h4 id="dnb-edr">DNB EDR</h4>

<p>DNBのEDRは Near-Constant Contrast (NCC) product と呼ばれる</p>

<p>ファイル記号 : <code>VNCCO</code></p>

<p>局所的な明るさを標準化して、夜と昼にかかわらず、光の反射率（reflectance）の分布を可視化する
（理想的には、夜と昼にかかわらず同じような画像を出力するはずだが、技術的には難しい）</p>

<p>DNB の EDRは、SDRの輝度を反射率に変換して、ground-track Mercator projection に再投影したもの、</p>

<p>つまり、DNB の EDRは反射率 (reflectance) しか持っていない、DNB の SDR は輝度しか持っていない</p>

<p>輝度（radiance）</p>

<p>位置情報</p>

<p>– GIGTO: I-band EDR geolocation
– GMGTO: M-band EDR geolocation
– GNCCO: Day/Night Band EDR (NCC) geolocation</p>

<h4 id="cloud-mask-vicmo">Cloud Mask (VICMO)</h4>

<p>なぜか Cloud Mask EDR のデータ形式のドキュメントは、<code>474-00001</code> の中にない！</p>

<p><a href="https://www.jpss.noaa.gov/sciencedocuments/sciencedocs/2016-12/474-00448-02-11_JPSS-DD-Vol-II-Part-11_0200E.pdf">JPSS Algorithm Specification, Volume II: Data Dictionary for the Cloud Mask</a></p>

<p><code>474-00448-02-11_JPSS-DD-Vol-II-Part-11_0200E.pdf</code></p>

<p>ファイル名は</p>

<p>Cloud Mask が EDR になったのは 2017 年から、それ以前は Cloud Mask Intermediate Product と呼ばれていた（ファイル名は IICMO）。基本的な内容は同じらしい</p>

<p><a href="https://www.jpss.noaa.gov/sciencedocuments/sciencedocs/2017-06/474-00062_OAD-VIIRS-Cloud-Mask-EDR_J.pdf">IICMOのドキュメント</a></p>

<p>は <code>474-00062_OAD-VIIRS-Cloud-Mask-IP_G.pdf</code></p>

<h1 id="生データ取得">生データ取得</h1>

<h2 id="ウィスコンシン">ウィスコンシン</h2>

<p>直近１週間分のデータ</p>

<p><a href="ftp://ftp.ssec.wisc.edu/pub/eosdb/npp/viirs/">ftp://ftp.ssec.wisc.edu/pub/eosdb/npp/viirs/</a></p>

<h2 id="noaa-class">NOAA CLASS</h2>

<p>SDR, EDRの生データを取得できるが、APIで自動取得することができない&hellip;</p>

<ul>
<li><a href="https://www.bou.class.noaa.gov/saa/products/search?sub_id=0&amp;datatype_family=VIIRS_SDR&amp;submit.x=25&amp;submit.y=3">VIIRS SDR</a></li>
<li><a href="https://www.bou.class.noaa.gov/saa/products/search?sub_id=0&amp;datatype_family=VIIRS_EDR&amp;submit.x=24&amp;submit.y=11">VIIRS EDS</a></li>
</ul>

<h2 id="nasa-laads">NASA LAADS</h2>

<p>NOAA CLASS 同様のSDR/EDRが入手できるが、どうも何らかの処理が加えられているように見える。ただスクレイピングによりデータ取得を自動化できる。</p>

<ul>
<li><a href="https://ladsweb.modaps.eosdis.nasa.gov/missions-and-measurements/viirs/">NASA LAADS VIIRS</a>

<ul>
<li><a href="https://ladsweb.modaps.eosdis.nasa.gov/search/order/1/VIIRS:Suomi-NPP">VIIRS:Suomi-NPP</a></li>
</ul></li>
</ul>

<h1 id="データプロダクト-サービス">データプロダクト・サービス</h1>

<ul>
<li><a href="https://payneinstitute.mines.edu/eog/viirs/">Cololad School of Mines: Earth Observation Group : VIIRS</a>

<ul>
<li>VIIRSを利用した、夜間の焱、夜間光（月次、年次）、夜間の漁船光の検出のデータを提供している</li>
<li>元々はNOAAのグループだったが Cololad School of Mines に移籍した。<a href="https://www.ngdc.noaa.gov/eog/index.html">NOAA時代のサイト</a></li>
<li><a href="https://eogdata.mines.edu/wwwdata/viirs_products/vbd/v23/global-saa/current/">https://eogdata.mines.edu/wwwdata/viirs_products/vbd/v23/global-saa/current/</a></li>
<li><a href="https://eogdata.mines.edu/wwwdata/viirs_products/vbd/v23/global-saa/nrt/">https://eogdata.mines.edu/wwwdata/viirs_products/vbd/v23/global-saa/nrt/</a>
<br /></li>
</ul></li>
</ul>

<p><a href="https://payneinstitute.mines.edu/eog/viirs/">https://payneinstitute.mines.edu/eog/viirs/</a></p>

<h1 id="viirs-を利用した論文">VIIRS を利用した論文</h1>

<h2 id="夜間の漁船光の検出">夜間の漁船光の検出</h2>

<ul>
<li><a href="https://www.mdpi.com/2072-4292/7/3/3020">Automatic Boat Identification System for VIIRS Low Light Imaging Data</a></li>
<li><a href="https://www.mdpi.com/2072-4292/11/9/995">Cross-Matching VIIRS Boat Detections with Vessel Monitoring System Tracks in Indonesia</a></li>
</ul>

<h1 id="一般記事">一般記事</h1>

<p><a href="https://sorabatake.jp/240/">衛星が撮影した夜の地球「夜間光」がお金に変わる!? 概要と利用事例</a></p>
</article>

      
<div class="book-footer justify-between">
  
  <div>
    
    <a class="flex align-center" href="https://github.com/teuder/notebook/commit/ddd42cdbce2e6133652ae48ad6fd13f468c9ec62" title='Last modified 2020-05-13 by Masaki Tsuda' target="_blank" rel="noopener">
      <img src="/notebook/svg/calendar.svg" alt="Changed" />
      <span>2020-05-13</span>
    </a>
  </div>
  
  
  <div>
    
    <a class="flex align-center" href="https://github.com/teuder/notebook/edit/master/content/GIS/VIIRS.md" target="_blank" rel="noopener">
      <img src="/notebook/svg/edit.svg" alt="Edit" />
      <span>Edit this page</span>
    </a>
    
  </div>
  
</div>


      
    </div>

    
  

  <aside class="book-toc level-3 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#viirs">VIIRS</a></li>
<li><a href="#衛星">衛星</a>
<ul>
<li><a href="#suomi-npp">Suomi-NPP</a></li>
<li><a href="#noaa-20">NOAA-20</a></li>
</ul></li>
<li><a href="#viirs-データ情報">VIIRS データ情報</a>
<ul>
<li><a href="#データプロダクト">データプロダクト</a></li>
<li><a href="#データのドキュメント">データのドキュメント</a>
<ul>
<li><a href="#sdr">SDR</a>
<ul>
<li><a href="#i-band-svi01-svi05">I-band (SVI01 - SVI05)</a></li>
<li><a href="#m-band-svm01-svm16">M-band (SVM01 - SVM16)</a></li>
<li><a href="#day-night-band-svdnb">Day Night Band (SVDNB)</a></li>
</ul></li>
<li><a href="#edr">EDR</a>
<ul>
<li><a href="#i-band-edr">I-band EDR</a></li>
<li><a href="#m-band-edr">M-band EDR</a></li>
<li><a href="#dnb-edr">DNB EDR</a></li>
<li><a href="#cloud-mask-vicmo">Cloud Mask (VICMO)</a></li>
</ul></li>
</ul></li>
</ul></li>
<li><a href="#生データ取得">生データ取得</a>
<ul>
<li><a href="#ウィスコンシン">ウィスコンシン</a></li>
<li><a href="#noaa-class">NOAA CLASS</a></li>
<li><a href="#nasa-laads">NASA LAADS</a></li>
</ul></li>
<li><a href="#データプロダクト-サービス">データプロダクト・サービス</a></li>
<li><a href="#viirs-を利用した論文">VIIRS を利用した論文</a>
<ul>
<li><a href="#夜間の漁船光の検出">夜間の漁船光の検出</a></li>
</ul></li>
<li><a href="#一般記事">一般記事</a></li>
</ul>
</nav>
  </aside>



  </main>

  
</body>

</html>
